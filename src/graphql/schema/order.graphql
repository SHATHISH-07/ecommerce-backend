# ----------------- INPUT TYPES -----------------

input PlaceOrderInput {
  products: [OrderedProductInput!]!
  shippingAddress: ShippingAddressInput!
  paymentMethod: PaymentMethod!
  totalAmount: Float!
}

input OrderedProductInput {
  externalProductId: Int!
  title: String!
  thumbnail: String
  priceAtPurchase: Float!
  quantity: Int!
  totalPrice: Float!
  returnPolicy: String!
}

input ShippingAddressInput {
  name: String!
  email: String!
  phone: String!
  address: String!
  city: String!
  isVerified: Boolean
  state: String!
  zipCode: String!
  country: String!
}

# ----------------- ENUMS -----------------

enum PaymentMethod {
  Cash_on_Delivery
  Card
  UPI
  NetBanking
}

enum PaymentStatus {
  Pending
  Paid
  Failed
  Refunded
}

enum OrderStatus {
  Processing
  Packed
  Shipped
  Out_for_Delivery
  Delivered
  Cancelled
  Returned
  Refunded
}

# ----------------- OUTPUT TYPES -----------------

type OrderedProduct {
  externalProductId: Int!
  title: String!
  thumbnail: String
  priceAtPurchase: Float!
  quantity: Int!
  totalPrice: Float!
  returnPolicy: String!
}

type ShippingAddress {
  name: String!
  email: String!
  phone: String!
  isVerified: Boolean!
  address: String!
  city: String!
  state: String!
  zipCode: String!
  country: String!
}

type CanceledOrder {
  canceledAt: String
  canceledOrderReason: String
}

type ReturnedOrder {
  returnedAt: String
  returnedOrderReason: String
}

type UserOrder {
  id: String!
  userId: String!
  products: [OrderedProduct!]!
  shippingAddress: ShippingAddress!
  paymentMethod: PaymentMethod!
  paymentStatus: PaymentStatus!
  orderStatus: OrderStatus!
  totalAmount: Float!
  placedAt: String!
  cancelledOrder: CanceledOrder
  packedAt: String
  shippedAt: String
  outForDeliveryAt: String
  deliveredAt: String
  returnedOrder: ReturnedOrder
  refundAt: String
}

# ----------------- MUTATION RESPONSES -----------------

type PlaceOrderResponse {
  message: String!
  success: Boolean!
}

type VerifyOtpResponse {
  message: String!
  success: Boolean!
}

type CancelOrderResponse {
  message: String!
  success: Boolean!
}

type ReturnOrderResponse {
  message: String!
  success: Boolean!
}

type OrderStatusResponse {
  message: String!
  success: Boolean!
}

type ProductStatus {
  externalProductId: Int!
  title: String!
  thumbnail: String
  priceAtPurchase: Float!
  quantity: Int!
  totalPrice: Float!
  returnPolicy: String!
}

type GetOrderStatusResponse {
  orderStatus: OrderStatus!
  products: [ProductStatus!]!
}
